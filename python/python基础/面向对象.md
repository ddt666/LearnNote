# 面向对象基础语法

### 内置方法

```python
class Foo(object):
    # 插槽 只允许该类只能有哪些属性
    __slots__ = ("__storage__", "__ident_func__")
    # 当调用__init__方法之前时，该方法会被调用
    def __new__(cls):
        print(cls)
        return super().__new__(cls)

    # 当对象初始化时，该方法会被调用
    def __init__(self):
        self.name = "haha"
        
        # 给当前类设定一个属性
        object.__setattr__(self, "__storage__", {})
        
   
    
    
    # 当对象加括号 foo() 时，该方法会被调用
    def __call__(self, *args, **kwargs):
        print("对象加()执行我")

    # 当对象设置属性或者方法时，该方法会被调用
    def __setattr__(self, key, value):
        pass

    # 当对象设置元素时时，该方法会被调用
    def __setitem__(self, key, value):
        pass

    # 当调用的属性或者方法不存在时，该方法会被调用
    def __getattr__(self, item):
        print("没有这个属性")

    # 当print(foo)时，该方法会被调用
    def __str__(self):
        return "fooooooo"


if __name__ == '__main__':
    foo = Foo()  # 执行__int__()

    foo()  # 执行 foo.__call__()

    foo.age = 1  # 执行foo.__setattr__方法

    foo["sex"] = "male"  # 执行foo.__setitem__方法

    a = foo.x  # 调用foo.__getattr__方法

    print(foo)

    
```



![image-20200729184433235](assets/image-20200729184433235.png)

